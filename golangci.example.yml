run:
  go: "1.22"

issues:
  exclude-use-default: false

linters:
  disable-all: true
  enable:
  # golangci-lint defaults
  - errcheck
  - gosimple
  - govet
  - ineffassign
  - staticcheck
  - unused
  # additional meta-linters
  - gocritic
  - revive
  # additional linters
  - asasalint
  - bodyclose
  - cyclop
  - dupl
  - durationcheck
  - errname
  - errorlint
  - execinquery
  - exhaustive
  - exportloopref
  - gocognit
  - goconst
  - godot
  - gofmt
  - goprintffuncname
  - gosec
  - mirror
  - musttag
  - nakedret
  - nilerr
  - nilnil
  - noctx
  - nolintlint
  - nosprintfhostport
  - perfsprint
  - predeclared
  - promlinter
  - protogetter
  - reassign
  - rowserrcheck
  - sqlclosecheck
  - testifylint
  - tparallel
  - unconvert
  - unparam
  - usestdlibvars

linters-settings:
  errcheck:
    check-type-assertions: true
  govet:
    enable-all: true
    check-shadowing: true
    settings:
      shadow:
        strict: true
  gocritic:
    enabled-tags:
    - diagnostic
    - style
    - performance
    - experimental
  revive:
    rules:
    - name: blank-imports
    - name: context-as-argument
    - name: context-keys-type
    - name: dot-imports
    - name: empty-block
      # disabled: true
    - name: error-naming
    - name: error-return
    - name: error-strings
    - name: errorf
    - name: exported
      arguments:
      - "checkPrivateReceivers"
      - "sayRepetitiveInsteadOfStutters"
    - name: increment-decrement
    - name: indent-error-flow
    - name: package-comments
    - name: range
    - name: receiver-naming
    - name: redefines-builtin-id
      # disabled: true
    - name: superfluous-else
      # disabled: true
    - name: time-naming
    - name: unexported-return
    - name: unreachable-code
      # disabled: true
    - name: unused-parameter
      # disabled: true
    - name: var-declaration
    - name: var-naming
  cyclop:
    max-complexity: 30
  exhaustive:
    check:
    - switch
    - map
  gocognit:
    min-complexity: 20
  nakedret:
    max-func-lines: 0
  nolintlint:
    require-explanation: true
    require-specific: true
  testifylint:
    enable-all: true

severity:
  default-severity: error
  rules:
  # not important
  - linters:
    - cyclop
    - dupl
    - gocognit
    - goconst
    - godot
    - gosimple
    - perfsprint
    - unused
    severity: info
  - linters:
    - govet
    text: "fieldalignment:"
    severity: info
  - linters:
    - govet
    text: "unreachable:"
    severity: info
  - linters:
    - gocritic
    text: "commentedOutCode:"
    severity: info
  - linters:
    - gocritic
    text: "commentedOutImport:"
    severity: info
  - linters:
    - gocritic
    text: "commentFormatting:"
    severity: info
  - linters:
    - revive
    text: "empty-block:"
    severity: info
  - linters:
    - revive
    text: "error-strings:"
    severity: info
  - linters:
    - revive
    text: "exported:"
    severity: info
  - linters:
    - revive
    text: "package-comments:"
    severity: info
  - linters:
    - revive
    text: "superfluous-else:"
    severity: info
  - linters:
    - revive
    text: "unused-parameter:"
    severity: info
  # needs a little more attention
  - linters:
    - govet
    severity: warning
  - linters:
    - staticcheck
    text: "S1"
    severity: warning
  - linters:
    - staticcheck
    text: "SA4"
    severity: warning
  - linters:
    - staticcheck
    text: "SA6"
    severity: warning
  - linters:
    - staticcheck
    text: "SA9"
    severity: warning
  - linters:
    - staticcheck
    text: "ST1"
    severity: warning
  - linters:
    - exhaustive
    - gofmt
    - goprintffuncname
    - nolintlint
    - revive
    - testifylint
    severity: warning
