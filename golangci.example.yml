run:
  go: "1.22"

issues:
  exclude-use-default: false

linters:
  disable-all: true
  enable:
  # golangci-lint defaults
  - errcheck
  - gosimple
  - govet
  - ineffassign
  - staticcheck
  - unused
  # additional meta-linters
  - gocritic
  - revive
  # additional linters
  - asasalint
  - bodyclose
  - cyclop
  - dupl
  - durationcheck
  - errname
  - errorlint
  - execinquery
  - exhaustive
  - exportloopref
  - gocognit
  - goconst
  - godot
  - gofmt
  - goprintffuncname
  - gosec
  - mirror
  - musttag
  - nakedret
  - nilerr
  - nilnil
  - noctx
  - nolintlint
  - nosprintfhostport
  - perfsprint
  - predeclared
  - promlinter
  - protogetter
  - reassign
  - rowserrcheck
  - sqlclosecheck
  - testifylint
  - tparallel
  - unconvert
  - unparam
  - usestdlibvars

linters-settings:
  errcheck:
    check-type-assertions: true
  govet:
    enable-all: true
    check-shadowing: true
    settings:
      shadow:
        strict: true
  gocritic:
    enabled-tags:
    - diagnostic
    - style
    - performance
    - experimental
  revive:
    enable-all-rules: true
    rules:
    - name: exported
      arguments:
      - "checkPrivateReceivers"
      - "sayRepetitiveInsteadOfStutters"
    - name: comment-spacings
      arguments: ["nolint"]
    # disabled
    - name: add-constant
      disabled: true
    - name: argument-limit
      disabled: true
    - name: banned-characters
      disabled: true
    - name: bare-return
      disabled: true
    - name: call-to-gc
      disabled: true
    - name: cognitive-complexity
      disabled: true
    - name: cyclomatic
      disabled: true
    - name: datarace
      disabled: true
    - name: duplicated-imports
      disabled: true
    - name: file-header
      disabled: true
    - name: flag-parameter
      disabled: true
    - name: function-result-limit
      disabled: true
    - name: function-length
      disabled: true
    - name: imports-blocklist
      disabled: true
    - name: line-length-limit
      disabled: true
    - name: max-public-structs
      disabled: true
    - name: nested-structs
      disabled: true
    - name: string-format
      disabled: true
    - name: unhandled-error
      disabled: true
  cyclop:
    max-complexity: 30
  exhaustive:
    check:
    - switch
    - map
  gocognit:
    min-complexity: 20
  nakedret:
    max-func-lines: 0
  nolintlint:
    require-explanation: true
    require-specific: true
  testifylint:
    enable-all: true

severity:
  default-severity: error
  rules:
  # not important
  - linters:
    - gosimple
    - unused
    - cyclop
    - dupl
    - gocognit
    - goconst
    - godot
    severity: info
  - linters:
    - govet
    text: "fieldalignment:"
    severity: info
  - linters:
    - govet
    text: "unreachable:"
    severity: info
  - linters:
    - gocritic
    text: "commentedOutCode:"
    severity: info
  - linters:
    - gocritic
    text: "commentedOutImport:"
    severity: info
  - linters:
    - gocritic
    text: "commentFormatting:"
    severity: info
  - linters:
    - revive
    text: "comment-spacings"
    severity: info
  - linters:
    - revive
    text: "confusing-naming:"
    severity: info
  - linters:
    - revive
    text: "confusing-results:"
    severity: info
  - linters:
    - revive
    text: "constant-logical-expr:"
    severity: info
  - linters:
    - revive
    text: "early-return:"
    severity: info
  - linters:
    - revive
    text: "empty-block:"
    severity: info
  - linters:
    - revive
    text: "empty-lines:"
    severity: info
  - linters:
    - revive
    text: "error-strings:"
    severity: info
  - linters:
    - revive
    text: "exported:"
    severity: info
  - linters:
    - revive
    text: "get-return:"
    severity: info
  - linters:
    - revive
    text: "optimize-operands-order:"
    severity: info
  - linters:
    - revive
    text: "package-comments:"
    severity: info
  - linters:
    - revive
    text: "superfluous-else:"
    severity: info
  - linters:
    - revive
    text: "unused-parameter:"
    severity: info
  - linters:
    - revive
    text: "unused-receiver:"
    severity: info
  # needs a little more attention
  - linters:
    - govet
    severity: warning
  - linters:
    - staticcheck
    text: "SA4"
    severity: warning
  - linters:
    - staticcheck
    text: "SA6"
    severity: warning
  - linters:
    - staticcheck
    text: "SA9"
    severity: warning
  - linters:
    - staticcheck
    text: "S1"
    severity: warning
  - linters:
    - staticcheck
    text: "ST1"
    severity: warning
  - linters:
    - revive
    - exhaustive
    - gofmt
    - goprintffuncname
    - nolintlint
    severity: warning
